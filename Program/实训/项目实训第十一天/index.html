

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <meta name="referrer" content="same-origin" />
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/avatar.jpg">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="卡西莫多的个人博客">
  <meta name="author" content="Quosimodo">
  <meta name="keywords" content="Java,C++,Python,黑苹果,大数据,黑苹果,Hadoop,Matlab">
  
  <title>项目实训第十一天 - 卡西莫多の礼物</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":110,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":5},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":"c09ebf4b1c4e85a78c41088b03767102","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>卡西莫多の礼物</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-books"></i>
                Others
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/tags/">
                    <i class="iconfont icon-tags-fill"></i>
                    标签
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/about/">
                    <i class="iconfont icon-user-fill"></i>
                    关于
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/links/">
                    <i class="iconfont icon-link-fill"></i>
                    友链
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/banner.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="项目实训第十一天">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-07-22 08:22" pubdate>
        2021年7月22日 早上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      1.9k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      25
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">项目实训第十一天</h1>
            
              <p class="note note-info">
                
                  本文最后更新于：2025年9月10日 上午
                
              </p>
            
            <div class="markdown-body">
              <hr>
<h1 id="电信日志分析"><a href="#电信日志分析" class="headerlink" title="电信日志分析"></a>电信日志分析</h1><h2 id="数据导出"><a href="#数据导出" class="headerlink" title="数据导出"></a>数据导出</h2><h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><ol>
<li><p>开启Hadooop</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">start-all.sh<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>进入MySQL，在MySQL中建表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs mysql"># 建库<br>create database telecom;<br># 使用这个库<br>use telecom;<br># 需要在库下建立事实表<br>create table F_HTTP_APP_HOST( reporttime datetime, appType bigint, appSubtype bigint, userIP varchar(20), userPort bigint, appServerIP varchar(20), appServerPort bigint, host varchar(255), cellid varchar(20), attempts bigint, accepts bigint, trafficDL bigint, trafficUL bigint, retranUL bigint, retranDL bigint, failCount bigint, transDelay bigint);<br># 需要在库下建立受欢迎的APP的数据表<br>create table D_H_HTTP_APPTYPE(hourid datetime, appType int, appSubtype int, attempts bigint, accepts bigint, succRatio double, trafficUL bigint, trafficDL bigint, totalTraffic bigint, retranUL bigint,retranDL bigint, retranTraffic bigint, failCount bigint, transDelay bigint);<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>利用Sqoop将数据导出</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-comment"># 导出事实表的数据</span><br>sqoop <span class="hljs-built_in">export</span> --connect jdbc:mysql://hadoop:3306/telecom --username root --password root --table F_HTTP_APP_HOST --export-dir <span class="hljs-string">&#x27;/user/hive/warehouse/telecom.db/f_http_app_host/000000_0&#x27;</span> -m 1 --fields-terminated-by <span class="hljs-string">&#x27;|&#x27;</span><br><span class="hljs-comment"># 导出受欢迎的APP的数据</span><br>sqoop <span class="hljs-built_in">export</span> --connect jdbc:mysql://hadoop:3306/telecom --username root --password root --table D_H_HTTP_APPTYPE --export-dir <span class="hljs-string">&#x27;/user/hive/warehouse/telecom.db/d_h_http_apptype/000000_1&#x27;</span> -m 1 --fields-terminated-by <span class="hljs-string">&#x27;|&#x27;</span><br></code></pre></div></td></tr></table></figure></li>
</ol>
<h2 id="可视化"><a href="#可视化" class="headerlink" title="可视化"></a>可视化</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><ol>
<li>在实际开发过程中，在将数据处理完导出到MySQL之后，需要对数据进行直观展现，这个过程称之为可视化</li>
<li>目前市面上的可视化工具分为两类：BI工具和开源可视化工具。BI工具大部分都是收费的，所以在实际开发中，中小型公司一般会采用BI工具来降低开发成本，但是大型公司一般会使用开源的可视化框架或者会自定义可视化框架</li>
</ol>
<h1 id="HBase"><a href="#HBase" class="headerlink" title="HBase"></a>HBase</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><h3 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h3><ol>
<li>HBase由Yahoo!开发后来贡献给了Apache的一个基于Hadoop的、分布式的、可扩展的、能够存储到大量数据的非关系型数据库</li>
<li>当需要对大量的数据进行随机且实时的读写的时候，那么此时可以考虑使用HBase</li>
<li>HBase能够管理非常大的表 - billions of rows X millions of columns(十亿行*百万列)</li>
<li>HBase模仿了Google的BigTable来实现的，因此HBase和BigTable的实现原理一模一样，只是二者在底层的实现语言不一样。BigTable使用的是C语言，HBase使用的Java实现</li>
<li>HBase依赖于HDFS来完成数据的存储过程</li>
</ol>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="Zookeeper安装"><a href="#Zookeeper安装" class="headerlink" title="Zookeeper安装"></a>Zookeeper安装</h3><ol>
<li><p>进入&#x2F;opt目录下，上传Zookeeper的安装包</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-built_in">cd</span> /opt<br>rz<br><span class="hljs-comment"># 选择上传Zookeeper的安装包</span><br></code></pre></div></td></tr></table></figure>
</li>
<li><p>解压</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">tar -xvf apache-zookeeper-3.5.7-bin.tar.gz<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>重命名</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-built_in">mv</span> apache-zookeeper-3.5.7-bin zookeeper-3.5.7<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>进入Zookeeper的配置目录</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-built_in">cd</span> zookeeper-3.5.7/conf/<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>编辑属性文件</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-comment"># 复制文件</span><br><span class="hljs-built_in">cp</span> zoo_sample.cfg zoo.cfg<br><span class="hljs-comment"># 编辑文件</span><br>vim zoo.cfg<br><span class="hljs-comment"># 修改属性</span><br>dataDir=/opt/zookeeper-3.5.7/tmp<br><span class="hljs-comment"># 在文件末尾添加</span><br>server.1=192.168.233.133:2888:3888<br>server.2=192.168.233.134:2888:3888<br>server.3=192.168.233.135:2888:3888<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>回到Zookeeper安装目录下，创建tmp目录</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-comment"># 回到Zookeeper安装目录下</span><br><span class="hljs-built_in">cd</span> ..<br><span class="hljs-comment"># 新建tmp目录</span><br><span class="hljs-built_in">mkdir</span> tmp<br><span class="hljs-comment"># 进到tmp中</span><br><span class="hljs-built_in">cd</span> tmp<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>指定当前节点的编号</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-comment"># 编辑文件</span><br>vim myid<br><span class="hljs-comment"># 在文件中添加在zoo.cfg文件中指定的编号</span><br></code></pre></div></td></tr></table></figure>
</li>
<li><p>回到&#x2F;opt目录下，远程拷贝给其他两个节点</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-built_in">cd</span> /opt<br>scp -r zookeeper-3.5.7 root@hadoop02:<span class="hljs-variable">$PWD</span><br>scp -r zookeeper-3.5.7 root@hadoop03:<span class="hljs-variable">$PWD</span><br></code></pre></div></td></tr></table></figure>
</li>
<li><p>修改第二个和第三个节点上的myid</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-built_in">cd</span> /opt/zookeeper-3.5.7/tmp/<br>vim myid<br><span class="hljs-comment"># 修改对应的编号</span><br></code></pre></div></td></tr></table></figure>
</li>
<li><p>修改环境变量</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">vim /etc/profile.d/zookeeperhome.sh<br><span class="hljs-comment"># 在文件中添加</span><br><span class="hljs-built_in">export</span> ZOOKEEPER_HOME=/opt/zookeeper-3.5.7<br><span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$ZOOKEEPER_HOME</span>/bin<br><span class="hljs-comment"># 保存退出，重新生效</span><br><span class="hljs-built_in">source</span> /etc/profile.d/zookeeperhome.sh<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>启动Zookeeper</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">zkServer.sh start<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>查看Zookeeper的状态</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">zkServer.sh status<br><span class="hljs-comment"># 出现1个leader+2个follower就表示Zookeeper配置成功</span><br></code></pre></div></td></tr></table></figure></li>
</ol>
<h3 id="HBase安装"><a href="#HBase安装" class="headerlink" title="HBase安装"></a>HBase安装</h3><ol>
<li><p>进入&#x2F;opt目录下，上传HBase的安装包</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-built_in">cd</span> /optrz# 选择HBase安装包上传<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>解压</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">tar -xvf hbase-2.4.2-bin.tar.gz<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>进入HBase的配置目录</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-built_in">cd</span> hbase-2.4.2/conf/<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>编辑文件</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">vim hbase-env.sh# 在文件中添加<span class="hljs-built_in">export</span> JAVA_HOME=/opt/jdk1.8export HBASE_MANAGES_ZK=<span class="hljs-literal">false</span># 保存退出，重新生效<span class="hljs-built_in">source</span> hbase-env.sh<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>编辑文件</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">vim hbase-site.xml<br></code></pre></div></td></tr></table></figure>

<p>在这个文件中添加</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--指定HBase在HDFS上的存储位置--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hbase.rootdir<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hdfs://hadoop:9000/hbase<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-comment">&lt;!--开启HBase的分布式--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hbase.cluster.distributed<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-comment">&lt;!--配置Zookeeper的连接地址--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hbase.zookeeper.quorum<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>hadoop:2181,hadoop02:2181,hadoop03:2181<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-comment">&lt;!--关闭容量流机制--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hbase.unsafe.stream.capability.enforce<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><span class="hljs-comment">&lt;!--指定WAL的存放地址--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">property</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>hbase.wal.provider<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>        <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>filesystem<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
</li>
<li><p>编辑文件</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">vim regionservers <span class="hljs-comment"># 在这个文件中添加三台主机的主机名</span><br></code></pre></div></td></tr></table></figure>
</li>
<li><p>回到opt目录下，远程拷贝给其他两个节点</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh"><span class="hljs-built_in">cd</span> /optscp -r hbase-2.4.2 root@hadoop02:<span class="hljs-variable">$PWDscp</span> -r hbase-2.4.2 root@hadoop03:<span class="hljs-variable">$PWD</span><br></code></pre></div></td></tr></table></figure>
</li>
<li><p>配置变量(三台虚拟机)</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">vim /etc/profile.d/hbasehome.sh# 在文件中添加<span class="hljs-built_in">export</span> HBASE_HOME=/opt/hbase-2.4.2export PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$HBASE_HOME</span>/bin# 保存退出，重新生效<span class="hljs-built_in">source</span> /etc/profile.d/hbasehome.sh<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>查看版本</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">hbase version<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>启动HBase</p>
<figure class="highlight sh"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs sh">start-hbase.sh<br></code></pre></div></td></tr></table></figure>
</li>
<li><p>通过jps查看，如果三台虚拟机上出现了1个HMaster+3个HRegionServer那么表示启动成功</p>
</li>
<li><p>通过浏览器输入IP:16010来访问HBase的主页面</p>
</li>
</ol>
<h2 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h2><h3 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h3><ol>
<li>Rowkey：行键<ol>
<li>在HBase中，不同于传统的关系型数据库，没有主键的概念，取而代之的是行键</li>
<li>HBase在定义表的时候，不需要定义行键列，而是在添加数据的时候手动指定行键</li>
</ol>
</li>
<li>Column Family：列族&#x2F;列簇<ol>
<li>在HBase中，强调列族不强调列，即在定义表的时候需要同时定义好列族，但是可以不定义列，列在使用过程中动态增删</li>
<li>一个表中，至少包含1个列族，理论上可以包含多个列族，列族的数量并不限制；但是到了实际开发中，一般而言，一个表中的列族数量不会超过3个</li>
<li>一个列族中可以包含0到多个列，列可以实现动态增删</li>
</ol>
</li>
</ol>
<h3 id="注意问题"><a href="#注意问题" class="headerlink" title="注意问题"></a>注意问题</h3><ol>
<li>HBase本身作为一个非关系型数据库，本身不支持SQL，提供了一套单独的命令</li>
<li>HBase可以存储稀疏的数据，因此适合于存储结构化、半结构化数据</li>
<li>append在添加数据的时候，如果是同一列，那么会在原来的值上进行拼接</li>
<li>put表示修改数据，但是在修改过程中，如果列名写错，那么put命令会认为是新添了一列而不是去检查列名</li>
</ol>
<h3 id="基本命令-1"><a href="#基本命令-1" class="headerlink" title="基本命令"></a>基本命令</h3><table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>hbase shell</td>
<td>进入HBase的客户端</td>
</tr>
<tr>
<td>processlist</td>
<td>查看所有在运行的任务</td>
</tr>
<tr>
<td>status</td>
<td>查看HBase的运行状态</td>
</tr>
<tr>
<td>version</td>
<td>查看HBase的版本</td>
</tr>
<tr>
<td>whoami</td>
<td>当前当前的用户</td>
</tr>
<tr>
<td>create ‘person’, {NAME &#x3D;&gt; ‘basic’}, {NAME &#x3D;&gt; ‘info’}, {NAME &#x3D;&gt; ‘other’}<br/>或者<br/>create ‘person’, ‘basic’, ‘info’, ‘other’</td>
<td>建立person表，包含3个列族：basic、info和other</td>
</tr>
<tr>
<td>append ‘person’, ‘p1’, ‘basic:name’, ‘Bruce’</td>
<td>在person表中添加行键为p1的数据</td>
</tr>
<tr>
<td>get ‘person’, ‘p1’</td>
<td>获取p1行键整个一行的数据</td>
</tr>
<tr>
<td>get ‘person’, ‘p1’, {COLUMN &#x3D;&gt; ‘basic’}<br/>或者<br/>get ‘person’, ‘p1’, ‘basic’</td>
<td>查看指定行键指定列族的数据</td>
</tr>
<tr>
<td>get ‘person’, ‘p1’, {COLUMN &#x3D;&gt; [‘basic’, ‘info’]}<br/>或者<br/>get ‘person’, ‘p1’, ‘basic’, ‘info’</td>
<td>查看指定行键多个列族的数据</td>
</tr>
<tr>
<td>get ‘person’, ‘p1’, {COLUMN &#x3D;&gt; ‘basic:name’}<br/>或者<br/>get ‘person’, ‘p1’, ‘basic:name’</td>
<td>查看指定行间指定列的数据</td>
</tr>
<tr>
<td>scan ‘person’</td>
<td>扫描整表</td>
</tr>
<tr>
<td>scan ‘person’, {COLUMNS &#x3D;&gt; ‘basic’}</td>
<td>扫描指定列族</td>
</tr>
<tr>
<td>scan ‘person’, {COLUMNS &#x3D;&gt; ‘basic:name’}</td>
<td>扫描指定列</td>
</tr>
<tr>
<td>put ‘person’, ‘p3’, ‘basic:name’, ‘Darl’</td>
<td>修改数据</td>
</tr>
<tr>
<td>delete ‘person’, ‘p3’, ‘basic:naem’</td>
<td>删除指定列</td>
</tr>
<tr>
<td>deleteall ‘person’, ‘p2’</td>
<td>删除一行数据</td>
</tr>
<tr>
<td>deleteall ‘person’, ‘p3’, ‘basic:name’</td>
<td>删除指定列</td>
</tr>
</tbody></table>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Program/">Program</a>
                    
                      <a class="hover-with-bg" href="/categories/Program/%E5%AE%9E%E8%AE%AD/">实训</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Hadoop/">Hadoop</a>
                    
                      <a class="hover-with-bg" href="/tags/Flume/">Flume</a>
                    
                      <a class="hover-with-bg" href="/tags/Hive/">Hive</a>
                    
                      <a class="hover-with-bg" href="/tags/HBase/">HBase</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/Program/%E5%AE%9E%E8%AE%AD/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%AE%AD%E7%AC%AC%E5%8D%81%E4%BA%8C%E5%A4%A9/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">项目实训第十二天</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/Program/%E5%AE%9E%E8%AE%AD/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%AE%AD%E7%AC%AC%E5%8D%81%E5%A4%A9/">
                        <span class="hidden-mobile">项目实训第十天</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <div> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span> <script src="/js/duration.js"></script> </div> <div style="text-align: center;">Copyright © by Quosimodo All Rights Reserved.</div> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>









  <script  src="https://cdn.jsdelivr.net/npm/mermaid@8.10.1/dist/mermaid.min.js" ></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({"theme":"default"});
    }
  </script>




  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?c09ebf4b1c4e85a78c41088b03767102";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
